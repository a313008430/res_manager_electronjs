!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("fs")):"function"==typeof define&&define.amd?define(["fs"],t):(e=e||self,e.game=t(e.fs))}(this,function(e){"use strict";class t{constructor(){}}class o{constructor(){this.dataManager=new t,this.browseBtn=document.querySelector("#browse"),this.browseBtn.addEventListener("change",t=>{let o=this.browseBtn.files.item(0);if("application/json"===o.type){let t=o.path,i=t.split("\\");i.splice(i.length-2,2);let s=i.join("/")+"/assets/resources";this.setRootPath(s),e.existsSync(s)?(this.clear(),this.dataManager.root=s,this.readDir(s),this.drawRootList()):alert("root path is error!"),console.log(s)}else alert("The format must be JSON!");console.log(o)})}clear(){this.rootResList=[]}setRootPath(e){document.querySelector("#rootNode").innerText=e}drawRootList(){console.log(this.rootResList);let e="",t=this.rootResList;for(let o=t.length-1;o>-1;o--)e+=`<dd>\r\n            <div class="g0 resName">${t[o].name}</div>\r\n            <div class="g0 resType select is-small">\r\n                <select disabled>\r\n                    <option>${t[o].type}</option>\r\n                </select>\r\n            </div>\r\n            <div class="g1">${t[o].path}</div>\r\n            <div class="g0 size_me">${t[o].size}</div>\r\n        </dd>`;document.querySelector("#rootList").innerHTML=e}readDir(t){if(t.length){let o=e.readdirSync(t);for(let i=o.length-1;i>-1;i--)if(-1===o[i].indexOf(".meta")){let s=e.statSync(t+"/"+o[i]);if(s.isDirectory())this.readDir(t+"/"+o[i]);else if(s.isFile()){let e=o[i].replace("_","").split(".");this.rootResList.push({name:e.join("_"),path:t+"/"+o[i],type:e[0],size:s.size})}}}}}class i{constructor(){new o}}return new i,i});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbXSwic291cmNlc0NvbnRlbnQiOltdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIn0=
